--------------------------------------------------------------------
-- Suppression des tables de la base de données
--------------------------------------------------------------------

DROP TABLE TICKET CASCADE CONSTRAINTS;  
DROP TABLE IP_ADDRESS CASCADE CONSTRAINTS; 

DROP TABLE ASSET CASCADE CONSTRAINTS; 
DROP TABLE ASSET_TYPE CASCADE CONSTRAINTS; 
DROP TABLE USER_ACCOUNT CASCADE CONSTRAINTS;  
DROP TABLE USER_ROLE CASCADE CONSTRAINTS;  

DROP TABLE NETWORK CASCADE CONSTRAINTS; 
DROP TABLE SITE CASCADE CONSTRAINTS; 

--------------------------------------------------------------------
-- Création des tables de la base de données
--------------------------------------------------------------------

CREATE TABLE SITE (  -- Contient les deux écoles, CY Tech Cergy et CY Tech PAU
    site_id    NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
    name       VARCHAR2(50) NOT NULL,
    location   VARCHAR2(100),
    created_at TIMESTAMP DEFAULT SYSTIMESTAMP,
    updated_at TIMESTAMP DEFAULT SYSTIMESTAMP,
    CONSTRAINT pk_site PRIMARY KEY (site_id)
);

CREATE TABLE USER_ROLE (  -- Contient les rôles/profession des utilisateurs dans chaque école 
    role_id     NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
    role_name   VARCHAR2(50) NOT NULL,
    description VARCHAR2(255),
    created_at  TIMESTAMP DEFAULT SYSTIMESTAMP,
    updated_at  TIMESTAMP DEFAULT SYSTIMESTAMP,
    CONSTRAINT pk_role PRIMARY KEY (role_id)
);

CREATE TABLE USER_ACCOUNT (  -- Contient tout les utlisateurs, personnels des deux écoles et leur identifiant                                                                                         >
    user_id    NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
    username   VARCHAR2(50) NOT NULL,
    password   VARCHAR2(255) NOT NULL,
    first_name VARCHAR2(50),
    last_name  VARCHAR2(50),
    email      VARCHAR2(100),
    phone      VARCHAR2(20),
    site_id    NUMBER NOT NULL,
    role_id    NUMBER,
    created_at TIMESTAMP DEFAULT SYSTIMESTAMP,
    updated_at TIMESTAMP DEFAULT SYSTIMESTAMP,
    CONSTRAINT pk_user_account PRIMARY KEY (user_id),
    CONSTRAINT uq_username UNIQUE (username),
    CONSTRAINT uq_email UNIQUE (email),
    CONSTRAINT fk_user_site FOREIGN KEY (site_id) REFERENCES SITE(site_id),
    CONSTRAINT fk_user_role FOREIGN KEY (role_id) REFERENCES USER_ROLE(role_id)
);

CREATE TABLE ASSET_TYPE ( 
    asset_type_id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    system_name   VARCHAR2(100),
    label         VARCHAR2(100) NOT NULL,
    model_name    VARCHAR2(100),
    is_active     NUMBER(1) DEFAULT 1,     -- 1 = actif, 0 = inactif
    created_at    TIMESTAMP DEFAULT SYSTIMESTAMP,
    updated_at    TIMESTAMP DEFAULT SYSTIMESTAMP
);

CREATE TABLE ASSET (  -- Contient le matériel acheté par l'école, 
    asset_id         NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    asset_type_id    NUMBER NOT NULL,          -- Référence vers ASSET_TYPE
    name             VARCHAR2(100),            -- Nom descriptif
    serial           VARCHAR2(100),            -- Numéro de série
    assigned_user_id NUMBER,                   -- Référence vers USER_ACCOUNT (si applicable)
    site_id          NUMBER NOT NULL,          -- Référence vers SITE (multi-site)
    purchase_date    DATE,                     -- Date d'achat ou d'acquisition
    status           VARCHAR2(20) DEFAULT 'active',  -- ex : active, maintenance, decommissioned
    created_at       TIMESTAMP DEFAULT SYSTIMESTAMP,
    updated_at       TIMESTAMP DEFAULT SYSTIMESTAMP,
    CONSTRAINT fk_asset_type FOREIGN KEY (asset_type_id) REFERENCES ASSET_TYPE(asset_type_id),
    CONSTRAINT fk_asset_site FOREIGN KEY (site_id) REFERENCES SITE(site_id),
    CONSTRAINT fk_asset_assigned_user FOREIGN KEY (assigned_user_id) REFERENCES USER_ACCOUNT(user_id),
    CONSTRAINT chk_asset_status CHECK (status IN ('active','maintenance','decommissioned'))
);

CREATE TABLE NETWORK (  -- Contient les adresses réseau pour chaque école
    network_id      NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    site_id         NUMBER NOT NULL,                   -- Référence vers SITE
    name            VARCHAR2(50) NOT NULL,             -- Nom du réseau (ex. "Réseau Cergy")
    network_address VARCHAR2(50) NOT NULL,             -- Adresse de réseau (ex. "192.168.1.0")
    netmask         VARCHAR2(50) NOT NULL,             -- Masque de sous-réseau (ex. "255.255.255.0")
    gateway         VARCHAR2(50),                      -- Passerelle optionnelle
    created_at      TIMESTAMP DEFAULT SYSTIMESTAMP,
    updated_at      TIMESTAMP DEFAULT SYSTIMESTAMP,
    CONSTRAINT fk_network_site FOREIGN KEY (site_id) REFERENCES SITE(site_id)
);

CREATE TABLE IP_ADDRESS (  -- Contient les adresse IP
    ip_id       NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    network_id  NUMBER NOT NULL,                     -- Référence vers NETWORK
    asset_id    NUMBER,                              -- Optionnel : référence vers ASSET si assignée
    ip_address  VARCHAR2(50) NOT NULL,               -- Ex. "192.168.1.101"
    is_dynamic  NUMBER(1) DEFAULT 0,                 -- 0 = statique, 1 = dynamique
    created_at  TIMESTAMP DEFAULT SYSTIMESTAMP,
    updated_at  TIMESTAMP DEFAULT SYSTIMESTAMP,
    CONSTRAINT fk_ip_network FOREIGN KEY (network_id) REFERENCES NETWORK(network_id),
    CONSTRAINT fk_ip_asset FOREIGN KEY (asset_id) REFERENCES ASSET(asset_id),
    CONSTRAINT uq_network_ip UNIQUE (network_id, ip_address)
);

CREATE TABLE TICKET (  -- Contient les tickets qui signale une panne sur le matériel de l'école
    ticket_id      NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    user_id        NUMBER NOT NULL,       -- L'utilisateur qui crée le ticket
    site_id        NUMBER NOT NULL,       -- Site concerné
    subject        VARCHAR2(100) NOT NULL,
    description    CLOB,
    status         VARCHAR2(20) DEFAULT 'open',   -- ex : open, pending, closed
    priority       VARCHAR2(20) DEFAULT 'medium', -- ex : low, medium, high
    creation_date  DATE DEFAULT SYSDATE,
    updated_date   DATE DEFAULT SYSDATE,
    resolution_date DATE,                      -- Date de résolution/fermeture du ticket
    assigned_to    NUMBER,                    -- Technicien assigné (référence à USER_ACCOUNT)
    updated_by     NUMBER,                    -- Dernier utilisateur ayant mis à jour le ticket
    CONSTRAINT fk_ticket_user FOREIGN KEY (user_id) REFERENCES USER_ACCOUNT(user_id),
    CONSTRAINT fk_ticket_site FOREIGN KEY (site_id) REFERENCES SITE(site_id),
    CONSTRAINT fk_ticket_assigned_to FOREIGN KEY (assigned_to) REFERENCES USER_ACCOUNT(user_id),
    CONSTRAINT chk_ticket_status CHECK (status IN ('open','pending','closed')),
    CONSTRAINT chk_ticket_priority CHECK (priority IN ('low','medium','high'))
);


--------------------------------------------------------------------
-- INSERT INTO TABLES
--------------------------------------------------------------------

-- Insertion des sites
INSERT INTO SITE (site_id, name, location) VALUES (1, 'CY Tech Cergy', 'Cergy, France');
INSERT INTO SITE (site_id, name, location) VALUES (2, 'CY Tech Pau', 'Pau, France');

-- Insertion des rôles utilisateurs
INSERT INTO USER_ROLE (role_id, role_name, description) VALUES (1, 'Administrateur', 'Gère le système');
INSERT INTO USER_ROLE (role_id, role_name, description) VALUES (2, 'Technicien', 'Gère les équipements');
INSERT INTO USER_ROLE (role_id, role_name, description) VALUES (3, 'Utilisateur', 'Utilise les services IT');

-- Insertion des comptes utilisateurs
INSERT INTO USER_ACCOUNT (user_id, username, password, first_name, last_name, email, phone, site_id, role_id) VALUES (1, 'e-schanthr', 'g+8QxLzq42', 'Simon', 'CHAN', 'sim.chan@cy-tech.fr', '0701020304', 1, 2);
INSERT INTO USER_ACCOUNT (user_id, username, password, first_name, last_name, email, phone, site_id, role_id) VALUES (2, 'e-ddelcamp', '_X%vQdde3V', 'David', 'Del Cam', 'dav.delcam@cy-tech.fr', '0709080706', 1, 3);
INSERT INTO USER_ACCOUNT (user_id, username, password, first_name, last_name, email, phone, site_id, role_id) VALUES (3, 'e-ybendabd', 'F8)2MQsjLt', 'Younes', 'Benabdel', 'younes-ben@cy-tech.fr', '0712345678', 2, 3);
INSERT INTO USER_ACCOUNT (user_id, username, password, first_name, last_name, email, phone, site_id, role_id) VALUES (1, 'texierines0', '!^^L5Js74b', 'Emmanuelle', 'Bouvier', 'tmasse@bernard.com', '0794078161', 1, 1);
INSERT INTO USER_ACCOUNT (user_id, username, password, first_name, last_name, email, phone, site_id, role_id) VALUES (2, 'yalexandre1', '$QVl@vDl#6', 'Colette', 'Delannoy', 'fledoux@sfr.fr', '0784959310', 2, 1);
INSERT INTO USER_ACCOUNT (user_id, username, password, first_name, last_name, email, phone, site_id, role_id) VALUES (3, 'omerle2', 'UtWabk3Y!3', 'Alex', 'Gérard', 'samsonrenee@wanadoo.fr', '0734131647', 1, 1);
INSERT INTO USER_ACCOUNT (user_id, username, password, first_name, last_name, email, phone, site_id, role_id) VALUES (4, 'adelaidemarin3', 't+K9WU8sLt', 'Maurice', 'Renard', 'maurice-renard@cy-tech.fr', '0752553419', 1, 3);
INSERT INTO USER_ACCOUNT (user_id, username, password, first_name, last_name, email, phone, site_id, role_id) VALUES (5, 'wagnerandre4', ')cVUB#bt(3', 'Alexandre', 'Techer', 'alexandre-techer@cy-tech.fr', '0728327648', 1, 3);
INSERT INTO USER_ACCOUNT (user_id, username, password, first_name, last_name, email, phone, site_id, role_id) VALUES (6, 'micheladrienne5', '_L1OB0Qx83', 'Raymond', 'Lacroix', 'arnaudegauthier@chartier.fr', '0735030564', 2, 1);
INSERT INTO USER_ACCOUNT (user_id, username, password, first_name, last_name, email, phone, site_id, role_id) VALUES (7, 'achauvin6', 'nE^F8KFa%4', 'Jules', 'Bertrand', 'zoerousseau@laposte.net', '0713953767', 1, 1);
INSERT INTO USER_ACCOUNT (user_id, username, password, first_name, last_name, email, phone, site_id, role_id) VALUES (8, 'potierjulien7', '_c%5kQsphb', 'Sabine', 'Pires', 'rene32@dbmail.com', '0724238849', 1, 1);
INSERT INTO USER_ACCOUNT (user_id, username, password, first_name, last_name, email, phone, site_id, role_id) VALUES (9, 'paulbernard8', '8hYd2cvK*8', 'Valérie', 'Paul', 'valérie-paul@cy-tech.fr', '0769653287', 1, 3);
INSERT INTO USER_ACCOUNT (user_id, username, password, first_name, last_name, email, phone, site_id, role_id) VALUES (10, 'susangautier9', '@s0lo(Xsnr', 'Étienne', 'Mallet', 'étienne-mallet@cy-tech.fr', '0710122691', 1, 3);
INSERT INTO USER_ACCOUNT (user_id, username, password, first_name, last_name, email, phone, site_id, role_id) VALUES (11, 'menardgilles10', 'TN7ZuJCb&C', 'Inès', 'Lecoq', 'wmartinez@laurent.fr', '0766978480', 2, 1);
INSERT INTO USER_ACCOUNT (user_id, username, password, first_name, last_name, email, phone, site_id, role_id) VALUES (12, 'margaudrodriguez11', 'eKQ7A9x6T)', 'Adrien', 'Huet', 'adrien-huet@cy-tech.fr', '0718451462', 2, 3);
INSERT INTO USER_ACCOUNT (user_id, username, password, first_name, last_name, email, phone, site_id, role_id) VALUES (13, 'veronique4312', 'i6ek3Zmz!8', 'Michel', 'Maury', 'alfred92@durand.fr', '0770482814', 2, 1);
INSERT INTO USER_ACCOUNT (user_id, username, password, first_name, last_name, email, phone, site_id, role_id) VALUES (14, 'clemenceroger13', 'f5#c8rWiv0', 'Arnaude', 'Blin', 'arnaude-blin@cy-tech.fr', '0789325288', 1, 3);
INSERT INTO USER_ACCOUNT (user_id, username, password, first_name, last_name, email, phone, site_id, role_id) VALUES (15, 'mguillot14', 'n1X(rev7_@', 'Richard', 'Gonzalez', 'boyeralphonse@maillard.net', '0709570154', 2, 2);
INSERT INTO USER_ACCOUNT (user_id, username, password, first_name, last_name, email, phone, site_id, role_id) VALUES (16, 'stephanepelletier15', '##7GtfKc$N', 'Claudine', 'Laroche', 'bousquetmichelle@huet.fr', '0730391171', 2, 1);
INSERT INTO USER_ACCOUNT (user_id, username, password, first_name, last_name, email, phone, site_id, role_id) VALUES (17, 'barbephilippe16', 'T@Xv6MvJ!J', 'Marthe', 'Pichon', 'sylvie36@gmail.com', '0782278248', 1, 2);
INSERT INTO USER_ACCOUNT (user_id, username, password, first_name, last_name, email, phone, site_id, role_id) VALUES (18, 'fmoreno17', '*7k%3kNalb', 'Anastasie', 'Vasseur', 'dduval@fischer.fr', '0796383465', 1, 1);
INSERT INTO USER_ACCOUNT (user_id, username, password, first_name, last_name, email, phone, site_id, role_id) VALUES (19, 'celineleclerc18', 'w%8DK+dsl&', 'Adèle', 'Maillot', 'clairedelorme@club-internet.fr', '0778713315', 2, 1);
INSERT INTO USER_ACCOUNT (user_id, username, password, first_name, last_name, email, phone, site_id, role_id) VALUES (20, 'langloissophie19', 'xAn72Axkt&', 'Julie', 'Charles', 'cpetitjean@hotmail.fr', '0709839301', 2, 2);

-- Insertion des types de matériel
INSERT INTO ASSET_TYPE (asset_type_id, system_name, label, model_name) VALUES (1, 'PC', 'Poste de travail', 'Dell OptiPlex 7060');
INSERT INTO ASSET_TYPE (asset_type_id, system_name, label, model_name) VALUES (2, 'Imprimante', 'Imprimante réseau', 'HP LaserJet');
INSERT INTO ASSET_TYPE (asset_type_id, system_name, label, model_name) VALUES (3, 'Switch', 'Switch réseau', 'Cisco Catalyst');
INSERT INTO ASSET_TYPE (asset_type_id, system_name, label, model_name) VALUES (4, 'PC portable', 'PC étudiant', 'HP EliteBook 650 G10');

-- Insertion des matériels
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (1, 1, 'PC-Cauchy-101-01', 'SN-24840', 10, 1, TO_DATE('2024-02-19', 'YYYY-MM-DD'), 'maintenance');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (2, 1, 'PC-Cauchy-101-02', 'SN-02701', 8, 1, TO_DATE('2024-02-10', 'YYYY-MM-DD'), 'maintenance');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (3, 1, 'PC-Cauchy-102-01', 'SN-04875', 8, 1, TO_DATE('2024-05-04', 'YYYY-MM-DD'), 'active');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (4, 1, 'PC-Cauchy-102-02', 'SN-84172', 15, 1, TO_DATE('2022-01-20', 'YYYY-MM-DD'), 'decommissioned');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (5, 1, 'PC-Fermat-101-01', 'SN-09231', 17, 1, TO_DATE('2022-02-23', 'YYYY-MM-DD'), 'maintenance');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (6, 1, 'PC-Fermat-101-02', 'SN-17440', 7, 1, TO_DATE('2023-10-28', 'YYYY-MM-DD'), 'active');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (7, 1, 'PC-Fermat-102-01', 'SN-74748', 20, 1, TO_DATE('2022-02-11', 'YYYY-MM-DD'), 'active');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (8, 1, 'PC-Fermat-102-02', 'SN-56791', 7, 1, TO_DATE('2022-07-24', 'YYYY-MM-DD'), 'active');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (9, 1, 'PC-Condorcet-101-01', 'SN-74382', 19, 1, TO_DATE('2022-06-06', 'YYYY-MM-DD'), 'active');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (10, 1, 'PC-Condorcet-101-02', 'SN-87715', 4, 1, TO_DATE('2023-04-30', 'YYYY-MM-DD'), 'decommissioned');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (11, 1, 'PC-Condorcet-102-01', 'SN-91179', 3, 1, TO_DATE('2023-08-01', 'YYYY-MM-DD'), 'active');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (12, 1, 'PC-Condorcet-102-02', 'SN-36255', 14, 1, TO_DATE('2023-12-18', 'YYYY-MM-DD'), 'maintenance');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (13, 1, 'PC-Turing-101-01', 'SN-03136', 11, 1, TO_DATE('2022-06-21', 'YYYY-MM-DD'), 'decommissioned');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (14, 1, 'PC-Turing-101-02', 'SN-25377', 19, 1, TO_DATE('2024-09-13', 'YYYY-MM-DD'), 'decommissioned');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (15, 1, 'PC-Turing-102-01', 'SN-26557', 3, 1, TO_DATE('2024-03-07', 'YYYY-MM-DD'), 'active');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (16, 1, 'PC-Turing-102-02', 'SN-06676', 9, 1, TO_DATE('2022-04-21', 'YYYY-MM-DD'), 'decommissioned');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (17, 1, 'PC-Batiment1-101-01', 'SN-91400', NULL, 2, TO_DATE('2024-08-09', 'YYYY-MM-DD'), 'maintenance');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (18, 1, 'PC-Batiment1-101-02', 'SN-98601', 18, 2, TO_DATE('2023-11-25', 'YYYY-MM-DD'), 'maintenance');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (19, 1, 'PC-Batiment1-102-01', 'SN-58450', 12, 2, TO_DATE('2024-08-22', 'YYYY-MM-DD'), 'decommissioned');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (20, 1, 'PC-Batiment1-102-02', 'SN-97855', 6, 2, TO_DATE('2022-03-19', 'YYYY-MM-DD'), 'decommissioned');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (21, 1, 'PC-Batiment2-101-01', 'SN-52893', 20, 2, TO_DATE('2022-09-06', 'YYYY-MM-DD'), 'active');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (22, 1, 'PC-Batiment2-101-02', 'SN-99973', 9, 2, TO_DATE('2024-05-20', 'YYYY-MM-DD'), 'decommissioned');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (23, 1, 'PC-Batiment2-102-01', 'SN-93617', 19, 2, TO_DATE('2024-04-04', 'YYYY-MM-DD'), 'active');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (24, 1, 'PC-Batiment2-102-02', 'SN-11547', 18, 2, TO_DATE('2024-03-12', 'YYYY-MM-DD'), 'active');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (25, 1, 'PC-Batiment3-101-01', 'SN-25712', 11, 2, TO_DATE('2023-06-30', 'YYYY-MM-DD'), 'maintenance');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (26, 1, 'PC-Batiment3-101-02', 'SN-31112', 11, 2, TO_DATE('2022-03-12', 'YYYY-MM-DD'), 'decommissioned');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (27, 1, 'PC-Batiment3-102-01', 'SN-04229', 20, 2, TO_DATE('2022-12-16', 'YYYY-MM-DD'), 'active');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (28, 1, 'PC-Batiment3-102-02', 'SN-81421', 13, 2, TO_DATE('2024-04-22', 'YYYY-MM-DD'), 'maintenance');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (29, 1, 'PC-Batiment4-101-01', 'SN-68833', 3, 2, TO_DATE('2023-03-20', 'YYYY-MM-DD'), 'maintenance');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (30, 1, 'PC-Batiment4-101-02', 'SN-94901', 20, 2, TO_DATE('2024-07-01', 'YYYY-MM-DD'), 'maintenance');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (31, 1, 'PC-Batiment4-102-01', 'SN-05626', 4, 2, TO_DATE('2023-03-22', 'YYYY-MM-DD'), 'active');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (32, 1, 'PC-Batiment4-102-02', 'SN-04490', 16, 2, TO_DATE('2024-09-15', 'YYYY-MM-DD'), 'decommissioned');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (33, 2, 'Imprimante-Cauchy', 'SN-46572', 8, 1, TO_DATE('2023-09-23', 'YYYY-MM-DD'), 'maintenance');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (34, 2, 'Imprimante-Fermat', 'SN-19614', 17, 1, TO_DATE('2024-03-04', 'YYYY-MM-DD'), 'active');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (35, 2, 'Imprimante-Condorcet', 'SN-19732', 13, 1, TO_DATE('2024-04-25', 'YYYY-MM-DD'), 'maintenance');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (36, 2, 'Imprimante-Turing', 'SN-92702', 8, 1, TO_DATE('2022-11-27', 'YYYY-MM-DD'), 'maintenance');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (37, 2, 'Imprimante-Batiment1', 'SN-03663', 2, 2, TO_DATE('2022-10-13', 'YYYY-MM-DD'), 'maintenance');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (38, 2, 'Imprimante-Batiment2', 'SN-43556', 7, 2, TO_DATE('2024-02-08', 'YYYY-MM-DD'), 'active');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (39, 2, 'Imprimante-Batiment3', 'SN-70536', 19, 2, TO_DATE('2023-11-16', 'YYYY-MM-DD'), 'active');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (40, 2, 'Imprimante-Batiment4', 'SN-23444', NULL, 2, TO_DATE('2023-05-22', 'YYYY-MM-DD'), 'maintenance');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (41, 3, 'Switch-Cergy-1', 'SN-51753', NULL, 1, TO_DATE('2022-07-06', 'YYYY-MM-DD'), 'maintenance');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (42, 3, 'Switch-Cergy-2', 'SN-66822', NULL, 1, TO_DATE('2022-08-06', 'YYYY-MM-DD'), 'maintenance');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (43, 3, 'Switch-Cergy-3', 'SN-53715', NULL, 1, TO_DATE('2024-03-27', 'YYYY-MM-DD'), 'maintenance');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (44, 3, 'Switch-Pau-1', 'SN-23151', NULL, 2, TO_DATE('2022-12-15', 'YYYY-MM-DD'), 'maintenance');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (45, 3, 'Switch-Pau-2', 'SN-27732', NULL, 2, TO_DATE('2024-06-20', 'YYYY-MM-DD'), 'maintenance');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (46, 3, 'Switch-Pau-3', 'SN-63406', NULL, 2, TO_DATE('2023-07-24', 'YYYY-MM-DD'), 'active');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (1000, 4, 'PC-Port-david-del cam', 'SN-LAPTOP-02423', 2, 1, TO_DATE('2023-09-22', 'YYYY-MM-DD'), 'maintenance');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (1001, 4, 'PC-Port-younes-benabdel', 'SN-LAPTOP-91603', 3, 2, TO_DATE('2023-02-13', 'YYYY-MM-DD'), 'active');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (1002, 4, 'PC-Port-maurice-renard', 'SN-LAPTOP-42560', 4, 1, TO_DATE('2023-07-28', 'YYYY-MM-DD'), 'active');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (1003, 4, 'PC-Port-alexandre-techer', 'SN-LAPTOP-51427', 5, 1, TO_DATE('2024-01-24', 'YYYY-MM-DD'), 'active');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (1004, 4, 'PC-Port-valérie-paul', 'SN-LAPTOP-91660', 9, 1, TO_DATE('2023-09-01', 'YYYY-MM-DD'), 'active');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (1005, 4, 'PC-Port-étienne-mallet', 'SN-LAPTOP-31003', 10, 1, TO_DATE('2023-09-09', 'YYYY-MM-DD'), 'active');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (1006, 4, 'PC-Port-adrien-huet', 'SN-LAPTOP-27994', 12, 2, TO_DATE('2023-01-09', 'YYYY-MM-DD'), 'active');
INSERT INTO ASSET (asset_id, asset_type_id, name, serial, assigned_user_id, site_id, purchase_date, status) VALUES (1007, 4, 'PC-Port-arnaude-blin', 'SN-LAPTOP-23090', 14, 1, TO_DATE('2023-04-24', 'YYYY-MM-DD'), 'active');

-- Insertion des réseaux
INSERT INTO NETWORK (network_id, site_id, name, network_address, netmask, gateway) VALUES (1, 1, 'Réseau Cergy', '192.168.1.0', '255.255.255.0', '192.168.1.1');
INSERT INTO NETWORK (network_id, site_id, name, network_address, netmask, gateway) VALUES (2, 2, 'Réseau Pau', '192.168.2.0', '255.255.255.0', '192.168.2.1');

-- Insertion des adresses IP
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (1, 1, 18, '192.168.1.100', 1);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (2, 1, 1, '192.168.1.101', 1);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (3, 1, 16, '192.168.1.102', 0);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (4, 1, 16, '192.168.1.103', 0);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (5, 1, 2, '192.168.1.104', 0);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (6, 1, 12, '192.168.1.105', 0);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (7, 1, 18, '192.168.1.106', 0);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (8, 2, 13, '192.168.2.107', 1);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (9, 2, 6, '192.168.2.108', 0);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (10, 2, 8, '192.168.2.109', 0);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (11, 2, 21, '192.168.2.110', 1);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (12, 1, 10, '192.168.1.111', 0);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (13, 1, 14, '192.168.1.112', 0);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (14, 1, 17, '192.168.1.113', 1);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (15, 2, 4, '192.168.2.114', 0);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (16, 2, 7, '192.168.2.115', 1);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (17, 2, 5, '192.168.2.116', 1);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (18, 1, 19, '192.168.1.117', 1);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (19, 1, 21, '192.168.1.118', 0);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (20, 1, 8, '192.168.1.119', 0);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (21, 1, 23, '192.168.1.120', 1);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (22, 1, 9, '192.168.1.121', 1);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (23, 2, 6, '192.168.2.122', 1);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (24, 1, 8, '192.168.1.123', 0);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (25, 2, 20, '192.168.2.124', 1);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (26, 1, 1, '192.168.1.125', 1);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (27, 1, 24, '192.168.1.126', 1);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (28, 2, 5, '192.168.2.127', 1);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (29, 1, 17, '192.168.1.128', 0);
INSERT INTO IP_ADDRESS (ip_id, network_id, asset_id, ip_address, is_dynamic) VALUES (30, 1, 2, '192.168.1.129', 0);

-- Insertion des tickets
INSERT INTO TICKET (ticket_id, user_id, site_id, subject, description, status, priority, creation_date, updated_date, resolution_date, assigned_to, updated_by) VALUES (1, 3, 2, 'Problème avec le matériel #7', 'Hello, mon matériel surchauffe après quelques minutes d’utilisation Merci de me tenir informé(e) dès que possible.', 'open', 'low', TO_DATE('2024-11-12', 'YYYY-MM-DD'), TO_DATE('2025-02-14', 'YYYY-MM-DD'), TO_DATE('2025-02-28', 'YYYY-MM-DD'), 1, 5);
INSERT INTO TICKET (ticket_id, user_id, site_id, subject, description, status, priority, creation_date, updated_date, resolution_date, assigned_to, updated_by) VALUES (2, 3, 2, 'Problème avec le matériel #33', 'Salut, mon matériel a une prise USB endommagée Pourriez-vous jeter un œil rapidement ? Merci.', 'open', 'low', TO_DATE('2024-12-07', 'YYYY-MM-DD'), TO_DATE('2025-03-01', 'YYYY-MM-DD'), NULL, 20, 8);
INSERT INTO TICKET (ticket_id, user_id, site_id, subject, description, status, priority, creation_date, updated_date, resolution_date, assigned_to, updated_by) VALUES (3, 2, 1, 'Problème avec le matériel #15', 'Bonjour, je rencontre un souci : mon matériel ne démarre plus malgré plusieurs tentatives Merci d''avance pour votre aide.', 'closed', 'high', TO_DATE('2024-10-17', 'YYYY-MM-DD'), TO_DATE('2025-02-11', 'YYYY-MM-DD'), TO_DATE('2025-02-19', 'YYYY-MM-DD'), 15, 14);
INSERT INTO TICKET (ticket_id, user_id, site_id, subject, description, status, priority, creation_date, updated_date, resolution_date, assigned_to, updated_by) VALUES (4, 14, 1, 'Problème avec le matériel #22', 'Bonjour, mon matériel fait un bruit étrange et s’éteint brusquement Pourriez-vous jeter un œil rapidement ? Merci.', 'open', 'low', TO_DATE('2024-12-23', 'YYYY-MM-DD'), TO_DATE('2025-03-07', 'YYYY-MM-DD'), TO_DATE('2025-03-07', 'YYYY-MM-DD'), 17, 14);
INSERT INTO TICKET (ticket_id, user_id, site_id, subject, description, status, priority, creation_date, updated_date, resolution_date, assigned_to, updated_by) VALUES (5, 9, 1, 'Problème avec le matériel #25', 'Bonjour, je rencontre un souci : mon matériel affiche un écran bleu au démarrage En attente de votre retour, merci.', 'pending', 'low', TO_DATE('2024-11-03', 'YYYY-MM-DD'), TO_DATE('2025-02-14', 'YYYY-MM-DD'), NULL, 15, 3);
INSERT INTO TICKET (ticket_id, user_id, site_id, subject, description, status, priority, creation_date, updated_date, resolution_date, assigned_to, updated_by) VALUES (6, 3, 2, 'Problème avec le matériel #30', 'Bonjour, je rencontre un souci : mon matériel a un clavier non fonctionnel Merci de me tenir informé(e) dès que possible.', 'closed', 'medium', TO_DATE('2025-01-13', 'YYYY-MM-DD'), TO_DATE('2025-03-08', 'YYYY-MM-DD'), TO_DATE('2025-03-29', 'YYYY-MM-DD'), 17, 2);
INSERT INTO TICKET (ticket_id, user_id, site_id, subject, description, status, priority, creation_date, updated_date, resolution_date, assigned_to, updated_by) VALUES (7, 3, 2, 'Problème avec le matériel #24', 'Bonjour, je rencontre un souci : mon matériel met trop de temps à démarrer En attente de votre retour, merci.', 'pending', 'high', TO_DATE('2024-11-05', 'YYYY-MM-DD'), TO_DATE('2025-03-29', 'YYYY-MM-DD'), NULL, 20, 20);
INSERT INTO TICKET (ticket_id, user_id, site_id, subject, description, status, priority, creation_date, updated_date, resolution_date, assigned_to, updated_by) VALUES (8, 5, 1, 'Problème avec le matériel #15', 'Hello, mon matériel affiche un écran bleu au démarrage Merci d''avance pour votre aide.', 'open', 'medium', TO_DATE('2024-12-09', 'YYYY-MM-DD'), TO_DATE('2025-03-19', 'YYYY-MM-DD'), NULL, 1, 3);
INSERT INTO TICKET (ticket_id, user_id, site_id, subject, description, status, priority, creation_date, updated_date, resolution_date, assigned_to, updated_by) VALUES (9, 3, 2, 'Problème avec le matériel #24', 'Hello, mon matériel surchauffe après quelques minutes d’utilisation Je reste disponible pour plus d''infos.', 'closed', 'medium', TO_DATE('2024-12-20', 'YYYY-MM-DD'), TO_DATE('2025-02-01', 'YYYY-MM-DD'), NULL, 20, 6);
INSERT INTO TICKET (ticket_id, user_id, site_id, subject, description, status, priority, creation_date, updated_date, resolution_date, assigned_to, updated_by) VALUES (10, 10, 1, 'Problème avec le matériel #39', 'Bonjour, mon matériel semble infectée par un virus ou malware Je reste disponible pour plus d''infos.', 'closed', 'high', TO_DATE('2024-11-17', 'YYYY-MM-DD'), TO_DATE('2025-03-01', 'YYYY-MM-DD'), TO_DATE('2025-03-17', 'YYYY-MM-DD'), 15, 3);
INSERT INTO TICKET (ticket_id, user_id, site_id, subject, description, status, priority, creation_date, updated_date, resolution_date, assigned_to, updated_by) VALUES (11, 4, 1, 'Problème avec le matériel #15', 'Salut, mon matériel ne démarre plus malgré plusieurs tentatives Merci de me tenir informé(e) dès que possible.', 'pending', 'medium', TO_DATE('2024-12-13', 'YYYY-MM-DD'), TO_DATE('2025-03-15', 'YYYY-MM-DD'), NULL, 15, 18);
INSERT INTO TICKET (ticket_id, user_id, site_id, subject, description, status, priority, creation_date, updated_date, resolution_date, assigned_to, updated_by) VALUES (12, 10, 1, 'Problème avec le matériel #18', 'Bonjour l''équipe IT, mon matériel fait un bruit étrange et s’éteint brusquement En attente de votre retour, merci.', 'open', 'medium', TO_DATE('2024-11-25', 'YYYY-MM-DD'), TO_DATE('2025-03-02', 'YYYY-MM-DD'), NULL, 1, 13);
INSERT INTO TICKET (ticket_id, user_id, site_id, subject, description, status, priority, creation_date, updated_date, resolution_date, assigned_to, updated_by) VALUES (13, 3, 2, 'Problème avec le matériel #14', 'Hello, mon matériel met trop de temps à démarrer Merci d''avance pour votre aide.', 'closed', 'high', TO_DATE('2025-01-22', 'YYYY-MM-DD'), TO_DATE('2025-03-25', 'YYYY-MM-DD'), TO_DATE('2025-03-26', 'YYYY-MM-DD'), 15, 11);
INSERT INTO TICKET (ticket_id, user_id, site_id, subject, description, status, priority, creation_date, updated_date, resolution_date, assigned_to, updated_by) VALUES (14, 14, 1, 'Problème avec le matériel #17', 'Hello, mon matériel n’est plus détectée sur le réseau En attente de votre retour, merci.', 'closed', 'medium', TO_DATE('2024-10-13', 'YYYY-MM-DD'), TO_DATE('2025-03-02', 'YYYY-MM-DD'), TO_DATE('2025-03-11', 'YYYY-MM-DD'), 20, 5);
INSERT INTO TICKET (ticket_id, user_id, site_id, subject, description, status, priority, creation_date, updated_date, resolution_date, assigned_to, updated_by) VALUES (15, 4, 1, 'Problème avec le matériel #28', 'Salut, mon matériel fait un bruit étrange et s’éteint brusquement Je reste disponible pour plus d''infos.', 'closed', 'medium', TO_DATE('2025-01-01', 'YYYY-MM-DD'), TO_DATE('2025-02-05', 'YYYY-MM-DD'), TO_DATE('2025-03-26', 'YYYY-MM-DD'), 15, 19);